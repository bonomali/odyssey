// Copyright 2018-Present Okta, Inc.

// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at

// http://www.apache.org/licenses/LICENSE-2.0

// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

@mixin make-ods-button-variant(
  $color-border,
  $color-border-disabled,
  $color-bg,
  $color-bg-disabled,
  $color-bg-focus,
  $color-bg-hover,
  $color-outline: $color-primary-outline,
  $color-text: cv('blue'),
  $color-text-disabled: cv('blue'),
) {
  border-color: $color-border;
  background-color: $color-bg;
  color: $color-text;

  &:hover,
  &.is-ods-button-hover {
    background-color: $color-bg-hover;
  }

  &:focus,
  &.is-ods-button-focus {
    @include outline($color-outline);

    background-color: $color-bg-focus;
  }

  &:disabled {
    border-color: $color-border-disabled;
    background-color: $color-bg-disabled;
    color: $color-text-disabled;
    cursor: not-allowed;
  }
}

.ods-button {
  @include make-ods-button-variant(
    $color-primary-border,
    $color-primary-border-disabled,
    $color-primary-bg,
    $color-primary-bg-disabled,
    $color-primary-bg-focus,
    $color-primary-bg-hover,
    $color-primary-outline,
    $color-primary-text,
    $color-primary-text-disabled,
  );

  display: inline-block;
  position: relative;
  margin: 0;
  padding: $em-tiny-spacing $em-base-spacing;
  transition-property: color, background-color, border-color, box-shadow;
  transition-duration: 100ms;
  transition-timing-function: linear;
  border: 1px solid transparent;
  border-radius: $base-border-radius;
  color: $white;
  font-family: $body-font-family;
  font-size: ms(0);
  font-weight: 600;
  line-height: $base-line-height;
}

.is-ods-button-secondary {
  @include make-ods-button-variant(
    $color-secondary-border,
    $color-secondary-border-disabled,
    $color-secondary-bg,
    $color-secondary-bg-disabled,
    $color-secondary-bg-focus,
    $color-secondary-bg-hover,
    $color-secondary-outline,
    $color-secondary-text,
    $color-secondary-text-disabled,
  );
}

.is-ods-button-danger {
  @include make-ods-button-variant(
    $color-danger-border,
    $color-danger-border-disabled,
    $color-danger-bg,
    $color-danger-bg-disabled,
    $color-danger-bg-focus,
    $color-danger-bg-hover,
    $color-danger-outline,
    $color-danger-text,
    $color-danger-text-disabled,
  );
}

.is-ods-button-overlay {
  @include make-ods-button-variant(
    $color-overlay-border,
    $color-overlay-border-disabled,
    $color-overlay-bg,
    $color-overlay-bg-disabled,
    $color-overlay-bg-focus,
    $color-overlay-bg-hover,
    $color-overlay-outline,
    $color-overlay-text,
    $color-overlay-text-disabled,
  );
}

.is-ods-button-clear {
  @include make-ods-button-variant(
    $color-clear-border,
    $color-clear-border-disabled,
    $color-clear-bg,
    $color-clear-bg-disabled,
    $color-clear-bg-focus,
    $color-clear-bg-hover,
    $color-clear-outline,
    $color-clear-text,
    $color-clear-text-disabled,
  );
}

%button-small {
  font-size: ms(-1);
}

.is-ods-button-small {
  @extend %button-small;
}
